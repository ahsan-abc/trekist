<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order</title>
    <link rel="stylesheet" href="./css/order.css" />
  </head>
  <body>
    <div id="order">
      <form action="" id="order-form">
        <h2
          style="
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: rgb(58, 58, 58);
          "
        >
          ORDER FORM
        </h2>
        <div class="form-group">
          <label for="">Name</label><input type="text" required name="name" />
        </div>
        <div class="form-group">
          <label for="">Mob no</label
          ><input type="number" required name="mob" />
        </div>
        <div class="form-group">
          <label for="">State</label
          ><select id="states" name="states" required name="state">
            <option value="andhra_pradesh">Andhra Pradesh</option>
            <option value="arunachal_pradesh">Arunachal Pradesh</option>
            <option value="assam">Assam</option>
            <option value="bihar">Bihar</option>
            <option value="chhattisgarh">Chhattisgarh</option>
            <option value="goa">Goa</option>
            <option value="gujarat">Gujarat</option>
            <option value="haryana">Haryana</option>
            <option value="himachal_pradesh">Himachal Pradesh</option>
            <option value="jharkhand">Jharkhand</option>
            <option value="karnataka">Karnataka</option>
            <option value="kerala">Kerala</option>
            <option value="madhya_pradesh">Madhya Pradesh</option>
            <option value="maharashtra">Maharashtra</option>
            <option value="manipur">Manipur</option>
            <option value="meghalaya">Meghalaya</option>
            <option value="mizoram">Mizoram</option>
            <option value="nagaland">Nagaland</option>
            <option value="odisha">Odisha</option>
            <option value="punjab">Punjab</option>
            <option value="rajasthan">Rajasthan</option>
            <option value="sikkim">Sikkim</option>
            <option value="tamil_nadu">Tamil Nadu</option>
            <option value="telangana">Telangana</option>
            <option value="tripura">Tripura</option>
            <option value="uttar_pradesh">Uttar Pradesh</option>
            <option value="uttarakhand">Uttarakhand</option>
            <option value="west_bengal">West Bengal</option>
            <option value="andaman_nicobar">Andaman and Nicobar Islands</option>
            <option value="chandigarh">Chandigarh</option>
            <option value="dadra_nagar_haveli">
              Dadra and Nagar Haveli and Daman and Diu
            </option>
            <option value="delhi">Delhi</option>
            <option value="lakshadweep">Lakshadweep</option>
            <option value="puducherry">Puducherry</option>
          </select>
        </div>
        <div class="form-group">
          <label for="">City</label><input type="text" required name="city" />
        </div>
        <div class="form-group">
          <label for="">Pincode</label
          ><input type="number" required name="pincode" />
        </div>
        <div class="form-group">
          <label for="">Local Address</label>
          <textarea
            name=""
            id=""
            cols="30"
            rows="4"
            required
            name="localadd"
          ></textarea>
        </div>

        <button id="order-submit" type="submit">CONFIRM ORDER</button>
      </form>
      <div
        id="order-details"
        style="
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          color: rgb(58, 58, 58);
        "
      ></div>
    </div>
  </body>

  <script>
    const today = new Date();
    const deliveryDate = new Date(today);
    deliveryDate.setDate(today.getDate() + 3); // Add 3 days to today's date

    const formattedDeliveryDate = deliveryDate.toLocaleDateString();
    console.log("Delivery Date: ", formattedDeliveryDate);
    ///////////////////////////////
    let order = JSON.parse(localStorage.getItem("myorder"));

    let items_name = [];

    order.products.forEach((element) => {
      items_name[items_name.length] = element.name;
    });

    document.getElementById("order-details").innerHTML = `
      <h2>ORDER DETAILS</h2>
        <li>
          <p>Total items</p>
          <p>${order.products.length}</p>
        </li>
        <li>
          <p> Items Name</p>
          <p>${items_name}</p>
        </li>
        <li>
          <p>Total Payable Amount</p>
          <p>${order.amount}â‚¹</p>
        </li>
        <li>
          <p>Payment Method</p>
          <p>Cash On delivery</p>
        </li>
        <li>
          <p>Expected deliver date</p>
          <p>${formattedDeliveryDate}</p>
        </li>`;
  </script>
</html>
